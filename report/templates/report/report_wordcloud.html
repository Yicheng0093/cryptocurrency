<div class="text-block">
  <h2>新聞熱詞雲</h2>
</div>

<div class="chart-container" style="margin-top: 0;">
  <canvas id="wordcloud" width="1200" height="600"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/wordcloud@1.1.2/src/wordcloud2.min.js"></script>
<script>
  // 你的詞頻資料
  const wordList = {{ word_freqs_json|safe }}.slice(0, 30);

  // WordCloud2.js 需要格式: [ [word, weight], ... ]
  // 這裡直接用原資料

  WordCloud(document.getElementById('wordcloud'), {
    list: wordList,
    gridSize: 12,          // 格子大小，影響詞距離
    weightFactor: 10,      // 字體大小縮放倍數
    fontFamily: 'Arial',
    color: 'random-dark',  // 文字顏色，隨機深色
    backgroundColor: '#f0f0f0',
    rotateRatio: 0.1,      // 50% 文字會旋轉 90 度
    rotationSteps: 2,      // 旋轉角度階段 (0°,90°)
    click: function(item) {
      alert(item[0] + ': ' + item[1]);
    }
  });
</script>
